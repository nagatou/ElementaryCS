\section{CS のこころ}
%
%%% GOAL
%
%\subsection{課題 1 の目標とテーマ}
%\begin{frame}
%\frametitle{課題 1の目標とテーマ}
%  \begin{columns}
%    \begin{column}{0.6\textwidth}
%      \begin{itemize}
%\item 目標
%        \begin{itemize}
%\item 計算の基本要素を知る
%        \end{itemize}
%\item テーマ
%        \begin{itemize}
%\item 四則演算でアニメーション
%\item \movie[once,externalviewer]{\beamerbutton{ひつじさん}}{./Figure/sheep-python.mov}
%        \end{itemize}
%      \end{itemize}
%    \end{column}
%    \begin{column}{0.4\textwidth}
%\includegraphics[scale=0.6]{./Figure/sheep-fixed.pdf}
%    \end{column}
%  \end{columns}
%\end{frame}
\begin{frame}
\frametitle{CS のこころ}
  \begin{itemize}
\item しつこいようですが，すべては計算
\item コンピュータに載せるには
    \begin{itemize}
\item 対象をデータ（数）として表すこと
\item 処理を基本演算の組み合わせで表すこと
    \end{itemize}
\item 処理とはコンピュータのなかの抽象的な世界に存在して
\item データというもう一つの抽象的な存在を操作する
\item この処理やデータをプログラミング言語の記号をもちいて注意深く構成したのがプログラム
\item このプログラムを実行することでコンピュータ上で再現させる
  \end{itemize}
\end{frame}
%
%%% What's DATA
%
\section{コンピュータの中では}
\subsection{Bit と Byte}
\begin{frame}
\frametitle{データは数}
  \begin{itemize}
\item データはすべてビットの列として表される
\item ビットの列の解釈の仕方によって
    \begin{itemize}
\item 数: 自然数，整数，実数; 18, -3, 3.14 など
\item 文字: 文字コード; ASCII, Unicode など
\item 画像，映像
\item 音
\item におい，味，触覚
    \end{itemize}
  \end{itemize}
\end{frame}
%
%%% Number
%
\begin{frame}
\frametitle{情報とは}
  \begin{itemize}
\item ここでデータに乗っている情報とは何か考えてみます
\item 情報とは"ある物事，事象についてのお知らせ"
\item 情報の価値はどう決まるか?
    \begin{itemize}
\item 驚きをもって受け止められる情報は価値が高い?
\item 日常的な情報は価値が低い?
    \end{itemize}
  \end{itemize}
\end{frame}
\begin{frame}
\frametitle{まずは情報量というもの}
  \begin{enumerate}
\item ある結果や情報を得る場合を考える
\item 結果や情報を生じる事象が確率現象であると見なす
\item 確率 $p$ の事象の情報量を \(I(p)\) であらわす
\item \(I(p)\) は単調減少関数
    \begin{itemize}
\item 頻繁に起こっていること ((\(p\) が大きい) は情報量が少ない)
\item 頻繁に起こらないこと ((\(p\) が小さい) は情報量が多い)
    \end{itemize}
\item 連続関数である
    \begin{itemize}
\item 確率のわずかな変化で情報量が大きく変化するのは不自然
    \end{itemize}
  \end{enumerate}
  \begin{block}{情報量の定義}
ある事象 $a$ の生起確率を \(p_a\) とすると
その情報量 \(I(p_a)\) は \(\log_{2}\frac{1}{p_a}=-\log_{2}p_a\) であらわすことにする
  \end{block}
\end{frame}
\begin{frame}
\frametitle{ビットとは}
  \begin{block}{1 bit とは}
    \begin{enumerate}
\item 今， 2 つの事象を考える
\item 同じ確率 \(P=\frac{1}{2}\) で生起するとする
\item このとき，ひとつの事象 $a$ の情報量 \(I(a)=\log_2\frac{1}{\frac{1}{2}}=1\)
\item これが 1 bit
\item 確率 \(\frac{1}{2}\) で起こる事象を知った時の情報量が 1 bit(ビット)
    \end{enumerate}
  \end{block}
  \begin{itemize}
\item それでは確率 \(\frac{1}{10}\) で起こる事象を知った時は 1 hartley(ハートレー)
\item 確率 \(\frac{1}{e}\) では 1 nat(ナット)
  \end{itemize}
\end{frame}
\begin{frame}
\frametitle{情報の記録}
  \begin{itemize}
\item 情報はビットの列として記録
\item 明確に区別された 2 つの状態で記録しています
    \begin{itemize}
\item 磁性体の向き，電圧の高低，スイッチの開閉
    \end{itemize}
\item 計算機科学では 2 つの状態を便宜的に $0$ と $1$ として議論しています
  \end{itemize}
\end{frame}
\begin{frame}
\frametitle{ビットによる表現}
  \begin{itemize}
\item 2 つの状態を取り得るデバイスを $N$ 個並べてそれぞれ独立としたらどれだけの情報があらわせるか
\item 答えは \(\log_2 2^N=N\) となり $N$ ビットの情報量となります
\item $N$ ビットでどれだけの事象を区別できるでしょうか
\item 答えは 2 個の要素から $N$ 個の重複順列 \({ }_2\Pi_N=2^N\) です
  \end{itemize}
\end{frame}
\begin{frame}
\frametitle{バイトとは}
  \begin{itemize}
\item 人間にとって意味をなす長さ $N$ の小ブロック
\item 現在のコンピュータでは 8 bit としています
  \end{itemize}
\end{frame}
%
%%% Number
%
\subsection{自然数の n 進表記}
\begin{frame}
\frametitle{数表記}
  \begin{itemize}
\item ビットの列で表すことは先に述べました
\item では自然数はどうあらわすでしょう
\item 数表記は 10 進が唯一の方法ではありません
\item $n$ 進表記が可能です
\item 数はどうコンピュータ内で表現されるかみていきます
  \end{itemize}
\end{frame}
\begin{frame}
\frametitle{$n$ 進表記}
  \begin{itemize}
\item 実は日常的に $n$ 進法を利用しています
\item 時間は 24 進法， 60 進法， 30 進法，360 進法をもちいています
\item たとえば 24 進法では 24 になったら位が一つ上がります
\item コンピュータでは 2 進法をもちいて自然数を表します
\item 2 進法ではやはり人間には分かりずらいので 8 進法や 16 進法であらわすことが多いです
  \end{itemize}
\end{frame}
\begin{frame}
\frametitle{$n$ 進法の各桁}
  \begin{itemize}
\item 2 進法，8 進法，16 進法でも 10 進法と同じように位どりによってあらわします
\item 良くご存知のように 10 進法では 1 桁を 0-9 のいづれかであらわしています
\item 123 という自然数であれば \(1\times 10^2+2\times 10^1+3\times 10^0\) といった具合です
  \end{itemize}
\end{frame}
\begin{frame}
\frametitle{2 進法の各桁}
  \begin{itemize}
\item 2 進法では各桁は 0 と 1 だけになります
\item 10 進法の場合と同様に位どりします，ただし底が 2 になります
\item \((010)_2\) という自然数であれば \(0\times 2^2+1\times 2^1+0\times 2^0\) といった具合です
\item この例では \((2)_{10}\) は位が一つ上がって \((010)_2\) となっています
  \end{itemize}
\end{frame}
\begin{frame}
\frametitle{16 進法の各桁}
  \begin{itemize}
\item 2 進法では桁が多くなって見ずらいので 16 進で表記します
\item 16 進法では各桁:
    \begin{itemize}
\item 0,1,2,3,4,5,6,7,8,9 と 0-9 までは 10 進と同じ
\item 10,11,12,13,14,15 は A,B,C,D,E,F をもちいます
    \end{itemize}
\item 10 進法の場合と同様に位どりします，ただし底が 16 になります
\item \((1F0)_{16}\) という自然数であれば \(1\times 16^2+F\times 16^1+0\times 16^0\) といった具合です
  \end{itemize}
\end{frame}
\begin{frame}
\frametitle{各数字の対応}
  \begin{columns}[t]
    \begin{column}{5cm}
\footnotesize
      \begin{tabular}{c|c|c|c}
10 進 & 8 進 & 16 進 & 2 進\\
\hline
 0& 0& 0&0\\
 1& 1& 1&1\\
 2& 2& 2&10\\
 3& 3& 3&11\\
 4& 4& 4&100\\
 5& 5& 5&101\\
 6& 6& 6&110\\
 7& 7& 7&111\\
      \end{tabular}
    \end{column}
    \begin{column}{5cm}
\footnotesize
      \begin{tabular}{c|c|c|c}
10 進 & 8 進 & 16 進 & 2 進\\
\hline
 8&10& 8&1000\\
 9&11& 9&1001\\
10&12& A&1010\\
11&13& B&1011\\
12&14& C&1100\\
13&15& D&1101\\
14&16& E&1110\\
15&17& F&1111\\
      \end{tabular}
    \end{column}
  \end{columns}
\end{frame}
\begin{frame}[label=Dec2Bin]
\frametitle{$n$ 進数の変換}
  \begin{itemize}
\item $m$ 進数から $n$ 進数への変換
\item 手始めに 10 進数から 2 進数への変換
  \end{itemize}
  \begin{center}
   \begin{example}[10進$\Leftrightarrow$2進]
   \begin{columns}[t]
    \begin{column}{3cm}
\infer[\mbox{High}]{0}{\infer{2)1\cdots 1}{\infer{2)2\cdots 0}{\infer{2)4\cdots 0}{\infer[\mbox{Low}]{2)9\cdots 1}{2)19\cdots 1}}}}}
    \end{column}
    \begin{column}{3cm}
\infer{19}{\infer{1\times 2^4=16}{\infer{0\times 2^3=0}{\infer{0\times 2^2=0}{\infer{1\times 2^1=2}{1\times 2^0=1}}}}}
    \end{column}
   \end{columns}
   \end{example}
  \end{center}
\end{frame}
%\begin{frame}
%\frametitle{Quiz: 10 進表記$\Leftrightarrow$ 2 進表記 の変換}
%  \begin{block}{Quiz}
%    \begin{enumerate}
%\item 131$_{10}$, 112$_{10}$ を 2 進数に変換してみてください\label{lb:first}
%\item \ref{lb:first}で得られた 2 進数を 10 進表記に戻してください
%\item もとの 10 進数が得られれば正しく変換できています
%\item この数字は東工大に割り当てられた IP アドレスになります
%    \end{enumerate}
%  \end{block}
%\end{frame}
%\input{elementaryCS-integer}
%\input{elementaryCS-floatingpoint}
%
%%% STRINGS
%
%\subsection{文字データ}
%\begin{frame}
%\frametitle{文字データの表現}
%  \begin{itemize}
%\item コンピュータは数値だけでなく文字も処理することができる
%\item 文字をコード化して処理する
%\item 詳細は第 3 回目で
%  \end{itemize}
%\end{frame}
%
%%% SOUND and MOVIE
%
%\subsection{画像と音}
%\begin{frame}
%\frametitle{画像}
%  \begin{itemize}
%\item つぎは画像データについて見てみます
%\item 画像も二進列で表せます
%\item ビットマップというファイル形式
%    \begin{itemize}
%\item マス目にわけ，白い部分を 1 ，黒い部分を 0 としてビットの列を作る
%    \end{itemize}
%  \end{itemize}
%\centering
%\includegraphics[scale=0.4]{./Figure/TITECH-logo.jpg}
%\end{frame}
%\begin{frame}
%\frametitle{音}
%  \begin{itemize}
%\item つぎは音データ
%\item 波の符号化
%    \begin{itemize}
%\item (a) は波形
%\item (b) は標本化
%\item (c) はそれぞれの標本値
%\item この標本値を順番にならべた二進列
%    \end{itemize}
%\item 音符の符号化 (Standard MIDI)
%    \begin{itemize}
%\item 音符やテンポを符号化
%\item \movie[once,externalviewer]{\beamerbutton{.mid}}{./Figure/Nodame.mid}
%    \end{itemize}
%  \end{itemize}
%  \begin{center}
%\includegraphics[scale=0.4]{./Figure/wave.jpg}
%  \end{center}
%\end{frame}
%
%%% COMPUTER
%
\subsection{コンピュータの中での計算}
\begin{frame}[shrink]
\frametitle{コンピュータの中では}
  \begin{itemize}
\item コンピュータの命令自体も符号化されてます
\item CPU (Central Processing Unit) ごとに命令セットも符号も異なっています
\item ここでは CPU が命令を実行するサイクルについて見てみます
  \end{itemize}
  \begin{center}
\includegraphics[scale=0.3]{./Figure/elementaryCS-figCPU}
  \end{center}
\end{frame}
\begin{frame}[shrink]
\frametitle{演算のサイクル}
  \begin{enumerate}
\scriptsize
\item instruction に命令をフェッチ
\item メインメモリからレジスタにデータを移動
\item ALU (Arithmetic and Logic Unit) がレジスタからデータを取り出す
\item ALU で演算
\item 結果をレジスタに書き込む
\item レジスタからメインメモリにデータを移動
\item ADD cx dx bx という命令を例にすると下図のようになります
  \end{enumerate}
  \begin{center}
\includegraphics[scale=0.3]{./Figure/elementaryCS-figCycle}
  \end{center}
\end{frame}
\section{計算は \(\pm 1\) と繰り返し}
\subsection{計算とは}
\begin{frame}
\frametitle{計算とは}
  \begin{itemize}
\item これまで自然数から初めて実数はては虚数のうえでの演算や関数の規則を覚えていろいろな計算をしてきた
\item 挙句には証明するといったこともしてきた
\item これらに共通する特徴を捉えて計算というものを体系的に捉えていく
\item 計算には入力と出力があって入力から出力を生成する
\item 生成過程を定めたものがアルゴリズム(algorithm)
  \end{itemize}
  \begin{example}[最大公約数]
最大公約数 \(gcd(n,m)\) は \(n, m\) の公約数で最大ものと定義されるが，どう求めるか方法は書いていない
  \end{example}
\end{frame}
\begin{frame}[fragile,shrink]
\frametitle{計算の方法}
  \begin{itemize}
\item 計算の方法について考える
\item 計算機科学では関数といった時はこちらの意味
\item 計算の方法のことをアルゴリズム (algorithm) といっている
\item アルゴリズムとデータを特定の形式で書いたものがプログラム
  \end{itemize}
  \begin{lstlisting}[caption={gcd.py}]
# Greatest common divisor
# Input: 自然数 x, y
# Output: gcd(x,y)
###
# Euclid's algorithm
def euclid(x1,x2):
  def euclid1(x1,x2):
    if x2==0:
      return (x1)
    else:
      return (euclid1(x2,x1%x2))
  def swap(x1,x2):
    return x2,x1
  if (x1<x2) :
     x1,x2 = swap(x1,x2)
  return(euclid1(x1,x2))
  \end{lstlisting}
\end{frame}
\subsection{計算の基本要素}
\begin{frame}[fragile,shrink]
\frametitle{計算の基本要素}
  \begin{itemize}
\item では，アルゴリズム的に計算可能なものとは何か？
    \begin{itemize}
\item Hilbert's Program
\item 数学基礎論，Computability といったキーワード
    \end{itemize}
\item 有限の操作を有限個並べて表せるものをアルゴリズム的に計算可能ということにする
\item アルゴリズムを記述するための最も基本となるものは何か？
  \end{itemize}
  \begin{block}{基本要素}
    \begin{itemize}
\item ある値に \(\pm 1\) する操作
\item 値を保持したり読み出す操作
\item 条件付きジャンプ
      \begin{itemize}
\item 繰り返し
\item 条件分岐
      \end{itemize}
    \end{itemize}
  \end{block}
\end{frame}
\begin{frame}[fragile,shrink]
\frametitle{基本要素だけの四則演算}
  \begin{itemize}
\item \(m+n\) は $m$ に \(+1\) を $n$ 回施す
\item \(m\times n\) は $m$ に \(+1\) を $m$ 回施すことを $n$ 回施す
\item ペアノの公理からこのことを説明してみます(板書)
  \end{itemize}
\end{frame}
\subsection{Python プログラムの書き方}
\begin{frame}[fragile]
\frametitle{Python における基本式}
  \begin{itemize}
\item 式の基本要素は 整数，実数がある
    \begin{itemize}
\item 整数の例: \(286, 386, 486\) 
\item 講義では自然数だけ扱います
    \end{itemize}
\item 基本要素と演算子 \(+, -, *, \slash\slash, \%, **\) などがある
\item 数と演算子を組み合わせて式を作ることができる
    \begin{itemize}
\item 入れ子にできます: \(286+(386+486)\) 
\item 今回は \(+1\) と \(-1\) だけ
    \end{itemize}
\item 式には名前をつけ（この名前のことを変数と呼ぶ），変数に式の値を保持し，
変数で値を参照することができます
    \begin{itemize}
\item 例: \(\mbox{abc}=286+386\) 
\item 例: \(\mbox{efg}=\mbox{abc}+486\) 
\item $=$ は論理記号ではなくて代入をあらわすので注意
\item abc は \(\mbox{a}\times\mbox{b}\times\mbox{c}\) ではなく変数名なので注意
    \end{itemize}
  \end{itemize}
\end{frame}
\begin{frame}[label=composit]
\frametitle{Python における合成}
  \begin{itemize}
\item 式を上から下へ順番に並べることで合成
\item 上から下へ順番に実行される
\item 前に実行された式の結果は変数をもちいて参照
\item 実行順序を変えたいときは while や if を使う
  \end{itemize}
\end{frame}
\begin{frame}[fragile,label=while]
\frametitle{繰り返し文}
\framesubtitle{while 文}
  \begin{itemize}
\item 特定の実行列を条件式が真である間繰り返し実行
\item 詳細は \href{https://docs.python.org/ja/3/reference/compound_stmts.html#the-while-statement}{\beamerbutton{Python 言語レファレンス 8.2 節}}参照
  \end{itemize}
  \begin{lstlisting}[caption={while 文}]
while 条件式 :
  文または式
  文または式
  
  \end{lstlisting}
\end{frame}
\begin{frame}[fragile,label=if]
\frametitle{条件分岐}
\framesubtitle{if 文}
  \begin{itemize}
\item 条件式が真の場合だけ文や式を実行
\item else がある場合は条件式が偽のとき実行
\item 詳細は \href{https://docs.python.org/ja/3/reference/index.html}{\beamerbutton{Python 言語レファレンス 8.1 節}}参照
\item 条件式は \href{https://docs.python.org/ja/3/reference/index.html}{\beamerbutton{Python 言語レファレンス 6.13 節}}参照
  \end{itemize}
  \begin{lstlisting}[caption={gcd.py(if 文と for 文の例)},label=gcd]
# Greatest common divisor
# Input: 自然数 x, y
# Output: gcd(x,y)
###

def gcd(x,y):
  ans=1
  n=min(x,y)
  for i in range(1,n):
    if (x%i==0) and (y%i==0):
      ans=i
  return (ans)
print(gcd(x,y))
  \end{lstlisting}
\end{frame}
\begin{frame}[fragile]
\frametitle{論理演算子}
 \begin{center}
  \begin{tabular}{c|c|c}
算術演算子&使用例&意味\\\hline
+& x $+$ y & x と y の足し算\\
-& x $-$ y & x と y の引き算\\
*& x $*$ y & x と y のかけ算\\
$\slash\slash$& x $\slash\slash$ y & x を y 割った商\\
\%& x $\%$ y & x を y 割ったあまり\\
**& x $**$ y & x の y 乗\\\hline
論理演算子&使用例&意味\\\hline
==& x == y & x と y が等しいなら真\\
!=& x != y & x と y が等しくないなら真\\
>=& x >= y & x は y 以上なら真\\
<=& x <= y & x は y 以下なら真\\
>& x > y & x は y より大きいなら真\\
<& x < y & x は y より小さいなら真\\
  \end{tabular}
 \end{center}
\end{frame}
\begin{frame}[fragile]
\frametitle{論理の合成}
  \begin{itemize}
\item 条件式は \href{https://docs.python.org/ja/3/reference/index.html}{\beamerbutton{Python 言語レファレンス 6.13 節}}参照
  \end{itemize}
  \begin{center}
    \begin{tabular}{c|c|c}
論理演算子&使用例&意味\\\hline
and & $p$ and $q$ & 論理積: 両方が真なら真\\
or & $p$ or $q$ & 論理和: いずれかが真なら真\\
not & not $p$ & $p$ の否定\\
    \end{tabular}
  \end{center}
\end{frame}
\begin{frame}[fragile,shrink]
\frametitle{基本要素だけの加算}
  \begin{lstlisting}[caption={add.py},label=add]
# add.py
# Input: 自然数 a, b
# Output: a + b
###

a = int(input("? "))  # 入力された自然数を a に代入
b = int(input("? "))  # 入力された自然数を b に代入
wa = a                # a の値を wa に代入
while b > 0:          # b が 0 より大きい間は繰り返す
  wa = wa + 1         #   wa + 1 の値を wa に代入
  b = b - 1           #   b - 1 の値を b に代入
print(wa)             # wa の値を出力
  \end{lstlisting}
\end{frame}
\begin{frame}[fragile,label=mult,shrink]
\frametitle{基本要素だけの乗算}
  \begin{lstlisting}[caption={mult\_basiconly.py},label=lst:mult]
# mult_basiconly.py
# Input: 自然数 x, y
# Output: x * y
###

x = int(input("x? "))       # 入力された自然数を x に代入
y = int(input("y? "))       # 入力された自然数を y に代入
seki = 0                    # seki を 0 で初期化
while y > 0:                # y が 0 より大きい間は end までを繰り返す
  a = seki
  b = x
  wa = a                    # 和のプログラム add.py を挿入
  while b > 0:
    wa = wa + 1
    b = b - 1
  seki = wa                 # wa の値 (seki + x) を seki に代入
  y = y - 1                 # y - 1 の値を y に代入
print(seki)                 # seki の値を出力
  \end{lstlisting}
\end{frame}
%%%
% Homework 1
%%%
\subsection{宿題 1 を動かしてみる}
\begin{frame}[fragile,shrink]
\frametitle{宿題 1 を動かしてみる}
\framesubtitle{宿題 1 \textendash $\pm 1$だけで四則演算を作る}
  \begin{itemize}
\item \href{https://sites.google.com/presystems.xyz/elementarycs/top}{\beamerbutton{https://sites.google.com/presystems.xyz/elementarycs/top}} に div-skeleton.py と sub-skeleton.py があるはずなのでそれを完成させて実行する
  \end{itemize}
  \begin{columns}
    \begin{column}{0.45\textwidth}
      \begin{lstlisting}[caption={sub.py},label=lst:sub]
# sub.py
# Input: 自然数 a, b
# Output: a - b

a = int(input("a? "))
b = int(input("b? "))
sa = a               
while    :
  sa = 
  b = 
print(sa)
      \end{lstlisting}
    \end{column}
    \begin{column}{0.45\textwidth}
      \begin{lstlisting}[caption={div.py},label=lst:div]
# div.py
# Input: 自然数 x, y
# Output: x ÷ y の商と余り

x = int(input("x? "))
y = int(input("y? "))
shou = 
amari = 
while    :
  shou = 
  amari = amari - y
print(shou)
print(amari)
      \end{lstlisting}
    \end{column}
  \end{columns}
\end{frame}
%\frametitle{演算のサイクル}
