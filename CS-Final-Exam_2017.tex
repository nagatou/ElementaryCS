% subject: コンピュータサイエンス第一期末試験（雛形）
% date:    17/11/8
% LaTeX2e: Japanese

\documentclass[12pt]{article}
\pagestyle{empty}
\usepackage{ascmac}
\usepackage[dvips]{epsfig}

% local.mac

%%% STYLE PARAM.s (for A4) %%%
\textwidth=16cm
\textheight=240mm

\topmargin=0mm
\headsep=0cm
\headheight=0cm
\oddsidemargin=0cm
\evensidemargin=0cm
\marginparwidth=0cm

\footnotesep=15pt
%\footheight=1.5cm
%\footskip=1.5cm

\itemsep=0.1pt
\parindent=11pt

\def\baselinestretch{1.15}

%%% LOCAL MACRO DEF.s %%%

\newcommand{\OMIT}[1]{}

% Print control (skips)
%\newcommand{\bigskip}{\vskip12pt}
%\newcommand{\medskip}{\vskip6pt}
%\newcommand{\smallskip}{\vskip3pt}
\newcommand{\paragraphskip}{\vskip\topsep}

% Itemization, etc
\newcommand{\nitem}[1]{%
\par\noindent\hangindent20pt%
\hskip20pt\llap{#1~}}
\newcommand{\nnitem}[1]{%
\par\noindent\hangindent30pt%
\hskip30pt\llap{#1~}}

\begin{document}
\noindent
\hfill{\small 15.Nov.2017}

\noindent
\hfil
{\large\bf
コンピュータサイエンス第１\textemdash 期末試験 CS4b\textemdash}
\hfil

\paragraphskip\noindent
※答案用紙は各問ごとに 1 枚使用して書くこと．\\
※答案用紙には各枚ごとに学籍番号と氏名を書くこと．

\paragraphskip
\nitem{\bf 問１．}（配点 10 点）\\
(1),(2),(3) の各部の名称を答えよ．
  \begin{center}
\includegraphics[scale=0.6]{./Figure/elementaryCS-figCPU-exam.eps}
  \end{center}

\paragraphskip
\nitem{\bf 問２．}（配点 10 点）\\
数学で考える関数と Ruby で出てくる関数
（講義や教科書ではサブルーチンと呼んでいた）
の違いを，対数関数 $\log_2(x)$ を例に説明せよ．

\hfill{裏面につづく}
\newpage

\paragraphskip
\nitem{\bf 問３．}（配点 15 点）\\
次に示したのは言語 Ruby で書かれたプログラムである．
このプログラムについて以下の問いに答えよ．

\begin{verbatim}
CODE_a = 97
CODE_z = 122
ALPHABET_SIZE =26

def letter2index (letter)
  return (letter - CODE_a)
end
def vigenere (key,message,chipher_text)
  key_length=key.length
  message_length=message.length

  for i in 0..(message_length-1)
    if CODE_a <= message[i] && message[i] <= CODE_z
       index = letter2index(message[i])
       c_letter = (index + (letter2index(key[i % key_length]))) % ALPHABET_SIZE
       chipher_text[i] = c_letter + CODE_a
    else
       chipher_text[i] = message[i]
    end
  end
end
def enc(key, message)
  letters = message.unpack("C*")
  keys = key.unpack("C*")
  chipher_letters = Array.new(message.length)

  vigenere(keys,letters,chipher_letters)
  return (chipher_letters.pack("C*"))
end

hirabun = gets.chomp
angobun = enc("vigenere", hirabun)
puts(angobun)
\end{verbatim}

\nitem{(1)}
平文 "hello" が入力として与えられたときの暗号文を示せ．
\nitem{(2)}
文字の置き換えをどのようにしているか modulo の計算式を示しながら説明せよ．

\end{document}
